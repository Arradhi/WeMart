{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>main</title>
{% endblock meta %}

{% block content %}

<nav>
{% include 'navbar.html' %}
</nav>

<div class="container mx-auto px-4 py-8 pt-16">
    <h1 class="text-3xl font-bold text-center text-indigo-600">Welcome to WeMart by Muhammad Fadhlan Arradhi - 2306240061!</h1>

    <h3 class="text-xl text-center mt-4">Saat ini anda ter-login dengan akun: {{user_name}}</h3>

    <div class="mt-6 bg-white p-6 rounded-lg shadow-md shadow-amber-300">
        <h5 class="font-semibold text-lg">Nama Produk :</h5>
        <p class="mb-4">{{ name }}</p>

        <h5 class="font-semibold text-lg">Harga :</h5>
        <p class="mb-4">Rp. {{ price }}</p>

        <h5 class="font-semibold text-lg">Deskripsi :</h5>
        <p class="mb-4">{{ description }}</p>

        <img class="w-48 h-auto rounded-lg" src="{{ image }}" alt="Gambar Produk">

        <h5 class="font-semibold text-lg mt-6">Sesi terakhir login: {{ last_login }}</h5>
    </div>
  </div>

    {% if not product_entries %}
    <div class="flex flex-col items-center justify-center min-h-[24rem] p-6">
            <p class="text-red-600 text-3xl text-center font-bold mt-4">Belum Ada Produk Baru Ditambahkan</p>
            <img src="{% static 'image/umaru.gif' %}" alt="Sad face" class="shadow-md shadow-amber-300">
        </div>
    {% else %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
      {% for product_entry in product_entries %}
      <div class="bg-white-500 shadow-md shadow-amber-300 rounded-lg p-6">
          <img src="{{ product_entry.image.url }}" alt="Gambar Produk" class="w-full h-48 object-contain rounded-lg mb-4 center">
          
          <h2 class="text-xl font-semibold">{{ product_entry.name }}</h2>
          <p class="text-gray-600 mt-2">{{ product_entry.description }}</p>
          <p class="text-indigo-600 font-bold mt-2">Rp. {{ product_entry.price }}</p>
          
          <div class="mt-4 flex">
              <a href="{% url 'main:edit_product' product_entry.pk %}">
                  <button class="bg-yellow-500 text-white py-1 px-3 rounded  hover:bg-yellow-600">Edit</button>
              </a>
              <a href="{% url 'main:delete_product' product_entry.pk %}">
                  <button class="bg-red-500 text-white py-1 px-3 rounded hover:bg-red-600">Delete</button>
              </a>
          </div>
      </div>
      {% endfor %}
  </div>
  {% endif %}

  <div class="mt-6">
      <a href="{% url 'main:create_product_entry' %}">
          <button class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600">Tambahkan Produk</button>
      </a>
      <a href="{% url 'main:logout' %}">
          <button class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Logout</button>
      </a>
  </div>
</div>
{% endblock content %}
</body>
</html>
